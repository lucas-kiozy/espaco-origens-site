<!DOCTYPE html><html lang="pt-BR" data-astro-cid-j7pv25f6> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Espaço Origens</title><meta name="description" content="Espaço Origens"><link rel="icon" href="/favicon.ico"><style>:root{--slide-ratio: 16/9;--nav-size: 44px;--dot-size: 10px;--dot-gap: 10px;--ring: 0 0 0 3px rgba(0,0,0,.15)}[data-astro-cid-j7pv25f6]{box-sizing:border-box}html,body{margin:0;padding:0}button[data-astro-cid-j7pv25f6]{font:inherit}main[data-astro-cid-j7pv25f6]{display:grid;gap:2rem;padding:1rem}.carousel[data-astro-cid-j7pv25f6]{position:relative;max-width:1200px;margin:0 auto;aspect-ratio:var(--slide-ratio);overflow:hidden;border-radius:12px;background:#000}.track[data-astro-cid-j7pv25f6]{display:flex;height:100%;transition:transform .48s cubic-bezier(.22,.61,.36,1);will-change:transform;touch-action:pan-y}.slide[data-astro-cid-j7pv25f6]{min-width:100%;height:100%;position:relative;user-select:none}.slide[data-astro-cid-j7pv25f6] img[data-astro-cid-j7pv25f6]{width:100%;height:100%;object-fit:cover;display:block}.nav[data-astro-cid-j7pv25f6]{position:absolute;inset:0;display:grid;grid-template-columns:1fr 1fr;pointer-events:none}.nav[data-astro-cid-j7pv25f6] button[data-astro-cid-j7pv25f6]{pointer-events:auto;width:var(--nav-size);height:var(--nav-size);border-radius:999px;border:0;background:#ffffffd9;box-shadow:var(--ring);display:grid;place-items:center;position:absolute;top:50%;transform:translateY(-50%);cursor:pointer}.nav[data-astro-cid-j7pv25f6] button[data-astro-cid-j7pv25f6]:focus-visible{outline:none;box-shadow:0 0 0 4px #00000040}.nav[data-astro-cid-j7pv25f6] button[data-astro-cid-j7pv25f6]:hover{background:#fffffff2}.prev[data-astro-cid-j7pv25f6]{left:12px}.next[data-astro-cid-j7pv25f6]{right:12px}.chevron[data-astro-cid-j7pv25f6]{width:18px;height:18px;border-right:2px solid #111;border-bottom:2px solid #111;transform:rotate(-45deg)}.prev[data-astro-cid-j7pv25f6] .chevron[data-astro-cid-j7pv25f6]{transform:rotate(135deg)}.dots[data-astro-cid-j7pv25f6]{position:absolute;left:50%;bottom:12px;transform:translate(-50%);display:flex;gap:var(--dot-gap);background:#00000040;padding:6px 10px;border-radius:999px;backdrop-filter:blur(2px)}.dot[data-astro-cid-j7pv25f6]{width:var(--dot-size);height:var(--dot-size);border-radius:999px;border:0;background:#fff9;cursor:pointer}.dot[data-astro-cid-j7pv25f6][aria-current=true]{background:#fff}.dot[data-astro-cid-j7pv25f6]:focus-visible{outline:none;box-shadow:0 0 0 3px #ffffffe6}@media (max-width: 768px){:root{--nav-size: 40px;--dot-size: 9px}}@media (max-width: 480px){:root{--nav-size: 36px;--dot-size: 8px;--dot-gap: 8px}}
</style></head> <body data-astro-cid-j7pv25f6> <main data-astro-cid-j7pv25f6> <section class="carousel" role="region" aria-roledescription="carrossel" aria-label="Galeria de imagens" data-astro-cid-j7pv25f6> <!-- Comentário: trilha de slides; o JS move via translateX --> <div class="track" id="carousel-track" data-astro-cid-j7pv25f6> <figure class="slide" aria-roledescription="slide" aria-label="Slide 1 de 3" key="0" data-astro-cid-j7pv25f6> <img src="/images/carousel/1.jpg" alt="Imagem 1" draggable="false" data-astro-cid-j7pv25f6> </figure><figure class="slide" aria-roledescription="slide" aria-label="Slide 2 de 3" key="1" data-astro-cid-j7pv25f6> <img src="/images/carousel/2.jpg" alt="Imagem 2" draggable="false" data-astro-cid-j7pv25f6> </figure><figure class="slide" aria-roledescription="slide" aria-label="Slide 3 de 3" key="2" data-astro-cid-j7pv25f6> <img src="/images/carousel/3.jpg" alt="Imagem 3" draggable="false" data-astro-cid-j7pv25f6> </figure> </div> <!-- Comentário: botões de navegação. type="button" garante que NUNCA submetem formulário. --> <div class="nav" aria-hidden="true" data-astro-cid-j7pv25f6> <button class="prev" type="button" id="btn-prev" aria-label="Anterior" data-astro-cid-j7pv25f6> <span class="chevron" aria-hidden="true" data-astro-cid-j7pv25f6></span> </button> <button class="next" type="button" id="btn-next" aria-label="Próximo" data-astro-cid-j7pv25f6> <span class="chevron" aria-hidden="true" data-astro-cid-j7pv25f6></span> </button> </div> <!-- Comentário: indicadores clicáveis para pular direto a um slide --> <div class="dots" id="dots" role="tablist" aria-label="Seleção de slides" data-astro-cid-j7pv25f6> <button class="dot" type="button" role="tab" aria-label="Ir para o slide 1" aria-current="true" data-index="0" key="0" data-astro-cid-j7pv25f6></button><button class="dot" type="button" role="tab" aria-label="Ir para o slide 2" aria-current="false" data-index="1" key="1" data-astro-cid-j7pv25f6></button><button class="dot" type="button" role="tab" aria-label="Ir para o slide 3" aria-current="false" data-index="2" key="2" data-astro-cid-j7pv25f6></button> </div> </section> </main> <script>
      // --- Carrossel fluido sem recarregar a página ---
      // Objetivo: trocar slides via transform, com autoplay, botões, dots e toque.
      // Prevenimos qualquer navegação ao usar apenas <button> e sem anchors.

      // Seletores principais
      const track = document.getElementById('carousel-track');
      const slides = Array.from(track.children);
      const btnPrev = document.getElementById('btn-prev');
      const btnNext = document.getElementById('btn-next');
      const dotsWrap = document.getElementById('dots');
      const dots = Array.from(dotsWrap.querySelectorAll('.dot'));

      // Estado do carrossel
      let index = 0;                             // Comentário: slide atual
      let isDragging = false;                    // Comentário: estado de gesto
      let startX = 0;                            // Comentário: X inicial do gesto
      let currentTranslate = 0;                  // Comentário: translate em px durante o gesto
      let prevTranslate = 0;                     // Comentário: translate anterior
      let autoplayId = null;                     // Comentário: id do setInterval
      const intervalMs = 4500;                   // Comentário: tempo entre slides
      const threshold = 0.15;                    // Comentário: quanto do width precisa arrastar para trocar

      // Calcula o translate para um índice
      function getTranslateFor(i) {
        return -i * track.clientWidth;
      }

      // Aplica o slide atual
      function apply() {
        const t = getTranslateFor(index);
        track.style.transform = `translate3d(${t}px, 0, 0)`;
        prevTranslate = t;
        currentTranslate = t;
        updateDots();
      }

      // Atualiza os indicadores
      function updateDots() {
        dots.forEach((d, i) => {
          d.setAttribute('aria-current', i === index ? 'true' : 'false');
        });
      }

      // Avança/volta cíclico
      function goNext() {
        index = (index + 1) % slides.length;
        apply();
      }
      function goPrev() {
        index = (index - 1 + slides.length) % slides.length;
        apply();
      }
      function goTo(i) {
        index = Math.max(0, Math.min(i, slides.length - 1));
        apply();
      }

      // Autoplay com pausa ao focar ou passar mouse
      function startAutoplay() {
        clearInterval(autoplayId);
        autoplayId = setInterval(goNext, intervalMs);
      }
      function stopAutoplay() {
        clearInterval(autoplayId);
        autoplayId = null;
      }

      // Eventos botões
      btnNext.addEventListener('click', (e) => {
        e.preventDefault(); // Comentário: redundante mas seguro
        goNext();
        startAutoplay();
      });
      btnPrev.addEventListener('click', (e) => {
        e.preventDefault();
        goPrev();
        startAutoplay();
      });

      // Eventos dots
      dots.forEach((d) => {
        d.addEventListener('click', (e) => {
          e.preventDefault();
          const i = Number(d.dataset.index || 0);
          goTo(i);
          startAutoplay();
        });
      });

      // Pausa em foco/hover para acessibilidade
      const carousel = document.querySelector('.carousel');
      ['mouseenter', 'focusin'].forEach(ev => carousel.addEventListener(ev, stopAutoplay));
      ['mouseleave', 'focusout'].forEach(ev => carousel.addEventListener(ev, startAutoplay));

      // Gestos de toque/arraste
      function onDragStart(x) {
        isDragging = true;
        startX = x;
        stopAutoplay();
        // remove transição durante o gesto para resposta imediata
        track.style.transition = 'none';
      }
      function onDragMove(x) {
        if (!isDragging) return;
        const delta = x - startX;
        currentTranslate = prevTranslate + delta;
        track.style.transform = `translate3d(${currentTranslate}px,0,0)`;
      }
      function onDragEnd() {
        if (!isDragging) return;
        isDragging = false;
        // restaura transição suave
        track.style.transition = '';
        const moved = currentTranslate - prevTranslate;
        const movedRatio = Math.abs(moved) / track.clientWidth;
        if (movedRatio > threshold) {
          if (moved < 0) index = Math.min(index + 1, slides.length - 1);
          else index = Math.max(index - 1, 0);
        }
        apply();
        startAutoplay();
      }

      // Suporte mouse
      track.addEventListener('mousedown', (e) => onDragStart(e.clientX));
      window.addEventListener('mousemove', (e) => onDragMove(e.clientX));
      window.addEventListener('mouseup', onDragEnd);

      // Suporte toque
      track.addEventListener('touchstart', (e) => onDragStart(e.touches[0].clientX), { passive: true });
      track.addEventListener('touchmove', (e) => onDragMove(e.touches[0].clientX), { passive: true });
      track.addEventListener('touchend', onDragEnd);

      // Recalcula ao redimensionar para manter alinhamento
      window.addEventListener('resize', () => {
        // Comentário: realinha o slide atual após mudanças de largura
        apply();
      });

      // Inicializa
      apply();
      startAutoplay();

      // Previne qualquer rolagem “elástica” interferir no gesto horizontal em iOS
      document.addEventListener('gesturestart', (e) => e.preventDefault());
    </script> </body> </html>