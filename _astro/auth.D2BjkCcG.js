const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/index.CmDWF0nR.js","_astro/login.astro_astro_type_script_index_0_lang.BHJvG4Pj.js"])))=>i.map(i=>d[i]);
import{_ as c}from"./login.astro_astro_type_script_index_0_lang.BHJvG4Pj.js";let r=null;function u(){const n=(typeof window<"u"?window:void 0)?.__ENV||{},i=n.PUBLIC_SUPABASE_URL||"https://cpjiclzbbquoulrykjgi.supabase.co",s=n.PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwamljbHpiYnF1b3VscnlramdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MzU0NTUsImV4cCI6MjA3MjQxMTQ1NX0.LQaKmPZa9Ywq_W9RS729ePk-BdUiFh_WPzOvw_J94fE";return{url:i,anon:s}}async function e(){if(r)return r;const{url:t,anon:n}=u(),i=await c(()=>import("./index.CmDWF0nR.js"),__vite__mapDeps([0,1])),{createClient:s}=i;return r=s(t,n),r}async function p(t,n){const i=await e(),{data:s,error:o}=await i.auth.signInWithPassword({email:t,password:n});if(o)throw o;return s}async function l(){const t=await e(),{error:n}=await t.auth.signOut();if(n)throw n}async function h(t,n){const i=await e(),s=typeof import.meta<"u"&&"/espaco-origens-site/"||"/",o=s.endsWith("/")?s:s+"/",a=`${typeof window<"u"?window.location.origin:""}${o}login`;return await i.auth.signUp({email:t,password:n,options:{emailRedirectTo:a}})}async function b(t){return(await e()).auth.resend({type:"signup",email:t})}async function g(t){const n=await e(),i=typeof import.meta<"u"&&"/espaco-origens-site/"||"/",s=i.endsWith("/")?i:i+"/",o=`${typeof window<"u"?window.location.origin:""}${s}login`,{error:a}=await n.auth.resetPasswordForEmail(t,{redirectTo:o});if(a)throw a}async function d(){const t=await e(),{data:n}=await t.auth.getUser();return n?.user??null}async function m(){return!!await d()}async function y(){const t=await e(),{data:n}=await t.auth.getSession();return n?.session??null}function I(t){let n=null;return e().then(i=>{const s=i.auth.onAuthStateChange((o,a)=>{t(a?.user||null)});n=s?.data?.subscription??s}).catch(()=>{console.warn("onAuthStateChange: supabase not initialized"),t(null)}),{unsubscribe:()=>{try{n&&(typeof n.unsubscribe=="function"?n.unsubscribe():typeof n=="function"&&n())}catch{}}}}export{d as getCurrentUser,y as getSession,m as isAuthenticated,I as onAuthStateChange,b as resendSignup,g as resetPassword,p as signIn,l as signOut,h as signUp};
